webpackJsonp([29],{1314:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),l=n.n(r),s=n(1863),c=n(123),p=n(342),f=n(343),m=(n.n(f),n(573)),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n      {\n        entries(section:[staffDirectory]){\n          ...on StaffDirectory{\n            pagesConnection{\n              entries{\n                ...on Staff{\n                  id\n                  staffMemberName\n                  slug\n                  image{\n                    url(transform: staffDirectory)\n                    filename\n                    title\n                    height\n                    width\n                  }\n                  jobTitle\n                  email\n                  phoneNumber\n                  showLoPage\n                  department{\n                    title\n                  }\n                  staffLocationsConnection{\n                    entries{\n                      title\n                      url\n                    }\n                  }\n                  scheduleAppointmentLink\n                  applyLinks{\n                    purchase\n                    refinance\n                    construction\n                  }\n                }\n              }\n            }\n\n          }\n        }\n        department:categories(groupId:5){\n          id\n          title\n        }\n        location:entries(section:[locations]){\n          id\n          title\n        }\n      }\n    "],["\n      {\n        entries(section:[staffDirectory]){\n          ...on StaffDirectory{\n            pagesConnection{\n              entries{\n                ...on Staff{\n                  id\n                  staffMemberName\n                  slug\n                  image{\n                    url(transform: staffDirectory)\n                    filename\n                    title\n                    height\n                    width\n                  }\n                  jobTitle\n                  email\n                  phoneNumber\n                  showLoPage\n                  department{\n                    title\n                  }\n                  staffLocationsConnection{\n                    entries{\n                      title\n                      url\n                    }\n                  }\n                  scheduleAppointmentLink\n                  applyLinks{\n                    purchase\n                    refinance\n                    construction\n                  }\n                }\n              }\n            }\n\n          }\n        }\n        department:categories(groupId:5){\n          id\n          title\n        }\n        location:entries(section:[locations]){\n          id\n          title\n        }\n      }\n    "]),d=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={entries:[],departments:[],locations:[],departmentFilter:"none",locationFilter:"none",nameFilter:"",termFilter:"",loading:!0},n}return o(t,e),u(t,[{key:"componentDidUpdate",value:function(e,t){if(this.props.personToFind&&this.props.personToFind!==e.personToFind){var n=this.props.personToFind.replace(/-/g," ");this.setState({nameFilter:n})}}},{key:"componentWillMount",value:function(){if(this.props.personToFind){var e=this.props.personToFind.replace(/-/g," ");this.setState({nameFilter:e})}}},{key:"componentDidMount",value:function(){if(null!=this.props.personToFind){var e=this.props.personToFind.replace(/-/g," ");this.routeName(e)}}},{key:"changedDepartment",value:function(){var e=this.departmentFilter,t=e.options[e.selectedIndex].value;this.setState({departmentFilter:t})}},{key:"changedLocation",value:function(){var e=this.locationFilter,t=e.options[e.selectedIndex].value;this.setState({locationFilter:t})}},{key:"changedName",value:function(){this.setState({nameFilter:this.nameFilter.value})}},{key:"routeName",value:function(e){this.setState({nameFilter:e})}},{key:"render",value:function(){var e=this,t=l.a.Fragment,n=Object(p.b)(h);return l.a.createElement("div",{className:"container offsetNav"},l.a.createElement(f.Query,{query:n},function(n){var a=n.loading,i=n.error,o=n.data;if(a)return l.a.createElement(m.a,null);if(i)return l.a.createElement(c.d,{to:"/not-found"});var r=o.entries[0].pagesConnection.entries,p=o.location,f=o.department;return l.a.createElement(t,null,l.a.createElement("h1",{className:"staff-heading fontSize5 text-center pb-2"},"Staff Directory"),l.a.createElement("div",{className:"filter-list-holder mb-4"},l.a.createElement("select",{className:"departments-filter select mr-2","aria-label":"filter by department",ref:function(t){e.departmentFilter=t},onChange:function(){return e.changedDepartment()}},l.a.createElement("option",{value:"none"},"Select a Department"),f.map(function(e,t){return l.a.createElement("option",{value:e.title,key:"department"+t},e.title)}),";"),l.a.createElement("select",{className:"locations-filter select mr-2","aria-label":"filter by name",ref:function(t){e.locationFilter=t},onChange:function(){return e.changedLocation()}},l.a.createElement("option",{value:"none"},"Select a Location"),p.map(function(e,t){return l.a.createElement("option",{value:e.title,key:"location"+t},e.title)}),";"),l.a.createElement("input",{className:"name-filter-input mr-2","aria-label":"filter by name",ref:function(t){e.nameFilter=t},onChange:function(){return e.changedName()},placeholder:"Search by Name",value:e.state.nameFilter})),l.a.createElement("div",{className:"container--sm"}),l.a.createElement("div",{className:"staff-list-holder"},r.map(function(t,n){return l.a.createElement(s.a,{key:n,info:t,deptFilter:e.state.departmentFilter,locFilter:e.state.locationFilter,nameFilter:e.state.nameFilter})})))}))}}]),t}(r.Component);t.default=d},1863:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=n(3),l=n.n(r),s=n(123),c=n(163),p=n.n(c),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={department:[],location:[],visible:!1,trackedApply:!1,loading:!0},n.trachApplyLink=n.trachApplyLink.bind(n),n.trackAppointmentClick=n.trackAppointmentClick.bind(n),n}return o(t,e),f(t,[{key:"componentDidUpdate",value:function(e,t){if(e.info.department!==this.props.info.department&&this.setState({department:this.props.info.department}),e.info.staffLocationsConnection.entries!==this.props.info.staffLocationsConnection.entries&&this.setState({location:this.props.info.staffLocationsConnection.entries}),this.props.deptFilter!==e.deptFilter||this.props.locFilter!==e.locFilter||this.props.nameFilter!==e.nameFilter){for(var n=this.props.deptFilter,a=this.props.locFilter,i=this.props.nameFilter,o=this.state.department,r=this.state.location,l=[],s=[],c=!1,p=!1,f=0;f<=o.length-1;f++)l[f]=o[f].title,"none"!==n&&n===o[f].title&&(p=!0);var m=!1;for(f=0;f<=r.length-1;f++)s[f]=r[f].title,"none"!==a&&a===r[f].title&&(m=!0);var u=!1,h=this.props.info.staffMemberName.toLowerCase(),d=i.toLowerCase();-1!==h.indexOf(d)&&""!==d&&(u=!0),""===i&&(u=!0),"none"===a&&"none"===n&&""===i&&(c=!0),(!0===p&&"none"===a&&""===i||!0===m&&"none"===n&&""===i||!0===u&&"none"===a&&"none"===n||!0===p&&!0===m&&""===i||!0===p&&"none"===a&&!0===u||!0===m&&!0===p&&""===i||!0===m&&"none"===n&&!0===u||!0===u&&!0===m&&"none"===n||!0===u&&"none"===a&&!0===p||!0===p&&!0===m&&!0===u&&"none"!==n&&"none"!==a&&""!==i)&&(c=!0),this.setState({visible:c})}}},{key:"componentDidMount",value:function(){this.setState({department:this.props.info.department,location:this.props.info.staffLocationsConnection.entries});for(var e=this.props.deptFilter,t=this.props.locFilter,n=this.props.nameFilter,a=this.state.department,i=this.state.location,o=[],r=[],l=!1,s=!1,c=0;c<=a.length-1;c++)o[c]=a[c].title,"none"!==e&&e===a[c].title&&(s=!0);var p=!1;for(c=0;c<=i.length-1;c++)r[c]=i[c].title,"none"!==t&&t===i[c].title&&(p=!0);var f=!1,m=this.props.info.staffMemberName.toLowerCase(),u=n.toLowerCase();-1!==m.indexOf(u)&&""!==n&&(f=!0),""===n&&(f=!0),"none"===t&&"none"===e&&""===n&&(l=!0),(!0===p&&"none"===t&&""===n||!0===s&&"none"===e&&""===n||!0===f&&"none"===t&&"none"===e||!0===p&&!0===s&&""===n||!0===p&&"none"===t&&!0===f||!0===s&&!0===p&&""===n||!0===s&&"none"===e&&!0===f||!0===f&&!0===s&&"none"===e||!0===f&&"none"===t&&!0===p||!0===p&&!0===s&&!0===f&&"none"!==e&&"none"!==t&&""!==n)&&(l=!0),this.setState({visible:l})}},{key:"trachApplyLink",value:function(){!1===this.state.trackedApply?(p.a.init("d96d9f1409ced72777048f912ef7591e"),p.a.track("Apply Online - Staff Directory",{mloName:this.props.info.staffMemberName}),this.setState({trackedApply:!0})):this.setState({trackedApply:!1})}},{key:"trackAppointmentClick",value:function(){p.a.init("d96d9f1409ced72777048f912ef7591e"),p.a.track("Schedule Appointment - Staff Directory",{mloName:this.props.info.staffMemberName})}},{key:"render",value:function(){var e=this.props.info,t=e.staffMemberName,n=e.jobTitle,a=e.email,i=e.phoneNumber,o=!1;o=e.applyLinks.length>0&&e.applyLinks[0].purchase;var r=e.image[0].title,c=e.scheduleAppointmentLink,p=[],f=[],m=!1;return e.showLoPage&&(m=!0),l.a.createElement("div",{className:!0===this.state.visible?"flex-3 show":"felx-3 hide"},!0===this.state.visible?l.a.createElement("div",{className:"staff-list-item",department:p,location:f},m?l.a.createElement("div",{className:"width-80"},l.a.createElement(s.b,{to:"/lo/"+e.slug},l.a.createElement("img",{className:"staff-image-small",alt:r,src:e.image[0].url}))):l.a.createElement("div",{className:"width-80"},l.a.createElement("img",{className:"staff-image-small",alt:r,src:e.image[0].url})),l.a.createElement("div",{className:"staff-info"},m?l.a.createElement(s.b,{to:"/lo/"+e.slug},l.a.createElement("span",{className:"staff-name fontMedium colorBrandSecondary pb-1"},t)):l.a.createElement("span",{className:"staff-name fontMedium colorBrandSecondary pb-1"},t),l.a.createElement("div",{className:"staff-position text-uppercase fontSize0 pb-1"},n),l.a.createElement("div",{className:"staff-email colorGrey5"},l.a.createElement("a",{href:"mailto:"+a+"?subject=Non-secure message to Solarity&body=This e-mail is not a secure method of communication. Please do not include any personal or sensitive information in this communication."},a)),l.a.createElement("div",{className:"staff-phone colorGrey5"},l.a.createElement("a",{href:"tel:"+i},i)),o?l.a.createElement("a",{href:o,target:"_blank","aria-label":"apply for a loan with "+t,className:"directionalLink mb-1",onClick:this.trachApplyLink},"Apply Online ",l.a.createElement("span",{className:"feather icon-arrow-right"})):"",c?l.a.createElement("div",{className:"staff-schedule"},l.a.createElement("a",{className:"directionalLink","aria-label":"schedule an appointment with "+t,target:"_blank",onClick:this.trackAppointmentClick,href:"schedule/"+c},"Schedule an Appointment ",l.a.createElement("span",{className:"feather icon-arrow-right"}))):"")):"")}}]),t}(r.Component);t.a=m}});
//# sourceMappingURL=29.4b0a8bda.chunk.js.map